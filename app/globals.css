:root {
  --drawer-width: 240px;
  --list-width: 520px;
}

/* Color tokens (light default) */
:root {
  /* Prefer MUI CSS variables when available; fallback to static values */
  --background: var(--mui-palette-background-default, #dadada);
  --foreground: var(--mui-palette-text-primary, #171717);

  /* Surfaces / borders */
  --surface: var(--mui-palette-background-paper, #ffffff);
  --border: var(--mui-palette-divider, rgba(0, 0, 0, 0.12));

  /* Top bar + search */
  --topbar-bg: var(--surface);
  --topbar-fg: var(--foreground);
  --search-bg: color-mix(in oklab, var(--foreground) 6%, transparent);
  --search-border: color-mix(in oklab, var(--foreground) 8%, transparent);

  /* Brand accent */
  --brand-accent: var(--mui-palette-primary-main, #4b9eff);

  /* Success/Warning/Error chips (optional) */
  --chip-success: var(--mui-palette-success-main, #4caf50);
  --chip-warning: var(--mui-palette-warning-main, #ffc107);
  --chip-error: var(--mui-palette-error-main, #d84c4c);
}

/* ========== Dark theme override when toggled ==========
   TopBar sets: document.documentElement.setAttribute('data-theme','dark')
   This takes precedence over prefers-color-scheme.*/
:root[data-theme="dark"] {
  /* When explicit dark is set, keep using MUI variables if present */
  --background: var(--mui-palette-background-default, #0a0a0a);
  --foreground: var(--mui-palette-text-primary, #ededed);

  --surface: var(--mui-palette-background-paper, #1e1f22);
  --border: var(--mui-palette-divider, rgba(255, 255, 255, 0.14));

  --topbar-bg: var(--surface);
  --topbar-fg: var(--foreground);
  --search-bg: color-mix(in oklab, var(--foreground) 10%, transparent);
  --search-border: color-mix(in oklab, var(--foreground) 18%, transparent);

  --brand-accent: var(--mui-palette-primary-main, #82b6ff);

  --chip-success: var(--mui-palette-success-main, #7bd389);
  --chip-warning: var(--mui-palette-warning-main, #ffd666);
  --chip-error: var(--mui-palette-error-main, #ff7b7b);
}

/* ========== System preference default ==========
   Only applies if you did NOT explicitly toggle.
   (No [data-theme] attribute present.) */
@media (prefers-color-scheme: dark) {
  :root:not([data-theme]) {
    --background: var(--mui-palette-background-default, #0a0a0a);
    --foreground: var(--mui-palette-text-primary, #ededed);

    --surface: var(--mui-palette-background-paper, #1e1f22);
    --border: var(--mui-palette-divider, rgba(255, 255, 255, 0.14));

    --topbar-bg: var(--surface);
    --topbar-fg: var(--foreground);
    --search-bg: color-mix(in oklab, var(--foreground) 10%, transparent);
    --search-border: color-mix(in oklab, var(--foreground) 18%, transparent);

    --brand-accent: var(--mui-palette-primary-main, #82b6ff);

    --chip-success: var(--mui-palette-success-main, #7bd389);
    --chip-warning: var(--mui-palette-warning-main, #ffd666);
    --chip-error: var(--mui-palette-error-main, #ff7b7b);
  }
}

/* ========== Base resets ========== */
html,
body {
  max-width: 100vw;
  overflow-x: hidden;
}

body {
  color: var(--mui-palette-text-primary, var(--foreground));
  background: var(--mui-palette-background-default, var(--background));
  font-family: Arial, Helvetica, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

* {
  box-sizing: border-box;
  padding: 0;
  margin: 0;
}
a {
  color: inherit;
  text-decoration: none;
}

/* Let browsers know we support dark UI */
@media (prefers-color-scheme: dark) {
  html {
    color-scheme: dark;
  }
}
